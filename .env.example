# Tistory Blog Configuration
# Your Tistory blog URL (required)
TISTORY_BLOG_URL=https://yourblog.tistory.com

# Worker Pool Configuration
# Number of concurrent workers for parallel processing (default: 1, range: 1-16)
WORKER_COUNT=1
RATE_LIMIT_INTERVAL=60000 # 1 minute
RATE_LIMIT_CAP=1 # 1 request per interval

# Output Configuration
# Directory for generated files (default: ./output)
OUTPUT_DIR=./output

# --- WordPress REST ---
# WordPress base URL e.g. https://example.com
WP_BASE_URL=https://your-wordpress-site.com
# WordPress Application Password
WP_APP_USER=your-wordpress-username
WP_APP_PASSWORD=xxxx xxxx xxxx xxxx xxxx xxxx

# SQLite DB path for REST migration state
# default: ./data/migration.db
MIGRATION_DB_PATH=./data/migration.db

# --- Retry Configuration ---
# 0.5 sec -> 5 sec -> 50 sec
MAX_RETRY_ATTEMPTS=3
RETRY_INITIAL_DELAY_MS=500 # 0.5 sec
RETRY_MAX_DELAY_MS=600000 # 10 minutes
RETRY_BACKOFF_MULTIPLIER=10

# Logging Configuration
# Log level: debug, info, warn, error (default: info)
LOG_LEVEL=info

# Log file path (optional, leave empty for console-only logging)
LOG_FILE=./output/migration.log

# CSS Selectors for Tistory crawling (required)
# Used by the crawler to discover individual post URLs from list pages
TISTORY_SELECTOR_POST_LINK=a.link_category
# used by the crawler to extract post metadata
TISTORY_SELECTOR_TITLE=meta[name="title"]
TISTORY_SELECTOR_PUBLISH_DATE=meta[property="article:published_time"]
TISTORY_SELECTOR_MODIFIED_DATE=meta[property="article:modified_time"]
TISTORY_SELECTOR_CATEGORY=div.another_category h4 a
TISTORY_SELECTOR_TAG=div.area_tag a[rel="tag"]
# Only HTML under this selector will be cleaned and used as a content
TISTORY_SELECTOR_CONTENT=div.tt_article_useless_p_margin.contents_style
TISTORY_SELECTOR_FEATURED_IMAGE="#main > div > div > div.article_header.type_article_header_cover > div"
TISTORY_BOOKMARK_SELECTOR=figure[data-ke-type="opengraph"]
# HTML template path for bookmark rendering. Default: ./src/templates/bookmark-template.html
TISTORY_BOOKMARK_TEMPLATE_PATH=./src/templates/bookmark-template.html

# Category hierarchy order when two categories are present on a post
# - first-is-parent: first crawled category is parent (default)
# - last-is-parent: last crawled category is parent
# If not set or invalid, defaults to first-is-parent
CATEGORY_HIERARCHY_ORDER=first-is-parent
