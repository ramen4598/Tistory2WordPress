# Tistory Blog Configuration
# Your Tistory blog URL (required)
TISTORY_BLOG_URL=https://yourblog.tistory.com

# Worker Pool Configuration
# Number of concurrent workers for parallel processing (default: 4, range: 1-16)
WORKER_COUNT=4

# Rate Limiting
# Delay between requests per worker in milliseconds (default: 1000 = 1 request/second)
# Recommended values:
# - Conservative (production): 1000-2000 (1-2 req/second)
# - Moderate (staging): 500-1000 (1-2 req/second per worker)
# - Aggressive (testing): 200-500 (2-5 req/second per worker)
# Note: Adjust based on server response times and rate limits
RATE_LIMIT_PER_WORKER=1000

# Output Configuration
# Directory for generated files (default: ./output)
OUTPUT_DIR=./output

# --- WordPress REST (005) ---
# If you set any WP_* variable, all WP_* vars become required.
# WordPress base URL (no trailing /wp-json) e.g. https://example.com
WP_BASE_URL=https://your-wordpress-site.com
# WordPress Application Password username
WP_APP_USER=your-wordpress-username
# WordPress Application Password value (can include spaces)
WP_APP_PASSWORD=xxxx xxxx xxxx xxxx xxxx xxxx

# SQLite DB path for REST migration state
# default: ./data/migration.db
MIGRATION_DB_PATH=./data/migration.db

# --- Retry Configuration (REST + crawling) ---
MAX_RETRY_ATTEMPTS=3
RETRY_INITIAL_DELAY_MS=500
RETRY_MAX_DELAY_MS=10000
RETRY_BACKOFF_MULTIPLIER=2

# Logging Configuration
# Log level: debug, info, warn, error (default: info)
LOG_LEVEL=info

# Log file path (optional, leave empty for console-only logging)
LOG_FILE=./output/migration.log

# CSS Selectors for Tistory crawling (required)

# Used by the crawler to discover individual post URLs from list/archive pages
TISTORY_SELECTOR_POST_LINK=a.link_category
# used by the crawler to extract post metadata
TISTORY_SELECTOR_TITLE=meta[name="title"]
TISTORY_SELECTOR_PUBLISH_DATE=meta[property="article:published_time"]
TISTORY_SELECTOR_MODIFIED_DATE=meta[property="article:modified_time"]
TISTORY_SELECTOR_CATEGORY=div.another_category h4 a
TISTORY_SELECTOR_TAG=div.area_tag a[rel="tag"]
# Only HTML under this selector will be cleaned and used as a content
TISTORY_SELECTOR_CONTENT=div.tt_article_useless_p_margin.contents_style
TISTORY_SELECTOR_FEATURED_IMAGE="#main > div > div > div.article_header.type_article_header_cover > div"
TISTORY_BOOKMARK_SELECTOR=figure[data-ke-type="opengraph"]
# Optional: override bookmark template path (default: ./src/templates/bookmark-template.html)
# TISTORY_BOOKMARK_TEMPLATE_PATH=./src/templates/bookmark-template.html

# Category hierarchy order when two categories are present on a post
# - first-is-parent: first crawled category is parent (default)
# - last-is-parent: last crawled category is parent
# If not set or invalid, defaults to first-is-parent
CATEGORY_HIERARCHY_ORDER=first-is-parent
